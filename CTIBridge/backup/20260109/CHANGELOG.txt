2026-01-09 백업
================

## 수정 내용

### CTIWorker.cs (1270-1274줄)
Private Network Access 헤더 추가 - 브라우저에서 localhost 접근 허용

변경 전:
```csharp
// CORS 헤더
response.Headers.Add("Access-Control-Allow-Origin", "*");
response.Headers.Add("Access-Control-Allow-Methods", "GET, POST, OPTIONS");
response.Headers.Add("Access-Control-Allow-Headers", "Content-Type");
```

변경 후:
```csharp
// CORS 헤더 + Private Network Access 허용
response.Headers.Add("Access-Control-Allow-Origin", "*");
response.Headers.Add("Access-Control-Allow-Methods", "GET, POST, OPTIONS");
response.Headers.Add("Access-Control-Allow-Headers", "Content-Type, Access-Control-Request-Private-Network");
response.Headers.Add("Access-Control-Allow-Private-Network", "true");
```

## 해결된 문제

1. CTI 패널 회색점 문제
   - 원인: 크롬 Private Network Access 보안 정책
   - HTTPS 사이트(Vercel)에서 HTTP localhost 요청 차단됨
   - 해결: Access-Control-Allow-Private-Network 헤더 추가

2. CTI 빨간점 문제 (0x800B 오류)
   - 원인: SK 브로드밴드 서버 측 일시적 문제
   - 09:03에 연결 끊김 후 모니터링 등록 실패
   - 22:53에 자동으로 복구됨

## 미해결/확인 필요

- 070 수신 녹취 테스트 (코드상 지원됨, 실제 테스트 필요)

## 빌드 방법

```cmd
net stop "CTI Bridge Service"
cd CTIBridge
dotnet publish -c Release -r win-x86 --self-contained -o publish
net start "CTI Bridge Service"
```
